
# DDD实战


## 1. 实体与值对象的区别？

实体对象有唯一标识，是可变的。
值对象是不变的。

比如宫保鸡丁设计成值对象，则每个饭店的宫保鸡丁都一样，只能引用。
如果宫保鸡丁设计成实体对象，则默认每个饭店的宫保鸡丁可以不一样的。

## 2. 贫血模型与充血模型

贫血模型： 将对象的属性，行为分离，行为交给服务类处理
充血模型： 将对象的属性与行为封装在一起，由服务类调度。

## 3. 聚合与聚合根
订单与订单明细就是聚合的关系。
订单就是聚合根。
DDD只使用于CQRS的业务中，不适合查询类。

## 4. 仓库与dao，工厂
订单仓库，通过订单dao查询订单表。
将查询结果通知给工厂，工厂调用明细dao，用户dao，补全订单明细和客户，返回仓库订单对象。